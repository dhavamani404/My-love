<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Love Link ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial,sans-serif;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.card{
  background:#fff;
  padding:25px;
  border-radius:15px;
  text-align:center;
  width:340px;
  box-shadow:0 10px 25px rgba(0,0,0,.2);
}
input,select{
  width:100%;
  padding:10px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #ccc;
}
button{
  background:#ff4d6d;
  color:#fff;
  border:none;
  padding:12px;
  width:100%;
  border-radius:8px;
  cursor:pointer;
}
#linkBox{
  margin-top:15px;
}
</style>
</head>

<body>

<div class="card">
  <h2>ğŸ’– Create Love Link ğŸ’–</h2>

  <input id="sender" placeholder="Your Name ğŸ˜ğŸ’–">
  <input id="partner" placeholder="Partner Name ğŸ˜">

  <select id="senderGender">
    <option value="">Your Gender</option>
    <option value="m">Male â™‚ï¸</option>
    <option value="f">Female â™€ï¸</option>
  </select>

  <select id="partnerGender">
    <option value="">Partner Gender</option>
    <option value="f">Female â™€ï¸</option>
    <option value="m">Male â™‚ï¸</option>
  </select>

  <label style="display:block;margin:10px 0;font-size:14px;">
    <input type="checkbox" id="married"> ğŸ’ We are married
  </label>

  <button onclick="generateLink()">Generate Love Link ğŸ’Œ</button>

  <div id="linkBox"></div>
</div>

<script>
function generateLink(){
  const sender=document.getElementById("sender").value.trim();
  const partner=document.getElementById("partner").value.trim();
  const sg=document.getElementById("senderGender").value;
  const pg=document.getElementById("partnerGender").value;
  const isMarried=document.getElementById("married").checked;

  if(!sender||!partner||!sg||!pg){
    alert("Please fill all details ğŸ’•");
    return;
  }

  sessionStorage.setItem("senderName",sender);

  const y=btoa(unescape(encodeURIComponent(partner)));
  const g=(sg+pg).toLowerCase();
  const m=isMarried?"1":"0";

  const baseURL=location.origin+location.pathname.replace(/\/[^\/]*$/,"/");
  const link=`${baseURL}love.html?y=${y}&g=${g}&m=${m}`;

  const waText=isMarried
    ? "ğŸ’ For my forever personâ€¦\nğŸŒ¹ Still choosing you, every single day â¤ï¸\nğŸ‘‰ click here\n\n"
    : "ğŸ’– I made something special just for youâ€¦\nğŸ’• Open it with your heart ğŸ¥°\nğŸ‘‰ click here\n\n";

  document.getElementById("linkBox").innerHTML=`
    <p style="font-size:14px;color:#555;">
      ${isMarried
        ? "ğŸ’ For my forever personâ€¦<br>ğŸŒ¹ Still choosing you, every single day â¤ï¸"
        : "ğŸ’– I made something special just for youâ€¦<br>ğŸ’• Open it with your heart ğŸ¥°"}
    </p>

    <input id="shareLink" value="${link}" readonly
      style="width:100%;padding:8px;border-radius:6px;border:1px solid #ccc;">

    <button id="copyBtn"
      style="margin-top:8px;background:#4CAF50;">
      ğŸ“‹ Copy Link
    </button>

    <a href="https://wa.me/?text=${encodeURIComponent(waText+link)}"
       target="_blank"
       style="
         display:inline-block;
         margin-top:10px;
         background:#25D366;
         color:#fff;
         padding:10px 16px;
         border-radius:25px;
         text-decoration:none;
         font-size:14px;
         font-weight:bold;
       ">
       ğŸ“² Share on WhatsApp
    </a>

    <p style="margin-top:8px;font-size:12px;color:#777;">
      ğŸ”’ Copy the link or share â€” link is hidden behind <b>click here</b>
    </p>
  `;
}

document.addEventListener("click",e=>{
  if(e.target && e.target.id==="copyBtn"){
    const input=document.getElementById("shareLink");
    input.select();
    input.setSelectionRange(0,99999);
    navigator.clipboard.writeText(input.value);
    e.target.innerText="âœ… Copied!";
    setTimeout(()=>e.target.innerText="ğŸ“‹ Copy Link",2000);
  }
});
</script>

</body>
</html>
